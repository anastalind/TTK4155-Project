\hypertarget{_node2_2_m_c_p2515_8c}{}\section{Node2/\+M\+C\+P2515.c File Reference}
\label{_node2_2_m_c_p2515_8c}\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
{\ttfamily \#include \char`\"{}M\+C\+P2515.\+h\char`\"{}}\\*
Include dependency graph for M\+C\+P2515.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{_node2_2_m_c_p2515_8c_a02d25f34e42b1ae73a0a3f691810636a}{M\+C\+P\+\_\+init} (void)
\item 
uint8\+\_\+t \hyperlink{_node2_2_m_c_p2515_8c_aa7fda669e065ed6a03aec37d03c87a93}{M\+C\+P\+\_\+read} (uint8\+\_\+t address)
\item 
void \hyperlink{_node2_2_m_c_p2515_8c_a885beff24479a19794cffcd9f2ac938b}{M\+C\+P\+\_\+write} (uint8\+\_\+t address, char data)
\item 
void \hyperlink{_node2_2_m_c_p2515_8c_ac0df668851ce70c796b20865af0bb7a7}{M\+C\+P\+\_\+request\+\_\+to\+\_\+send} (uint8\+\_\+t bit)
\item 
uint8\+\_\+t \hyperlink{_node2_2_m_c_p2515_8c_a0bcc6e705607f129117aaf5bdb10adea}{M\+C\+P\+\_\+read\+\_\+status} (void)
\item 
void \hyperlink{_node2_2_m_c_p2515_8c_aaacbe9f56b5aaa09951b12e8150259a5}{M\+C\+P\+\_\+bit\+\_\+modify} (uint8\+\_\+t address, uint8\+\_\+t mask, uint8\+\_\+t data)
\item 
void \hyperlink{_node2_2_m_c_p2515_8c_a2dc32ea9c68caed77b6a1e8369d96cc8}{M\+C\+P\+\_\+reset} (void)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+bit\+\_\+modify@{M\+C\+P\+\_\+bit\+\_\+modify}}
\index{M\+C\+P\+\_\+bit\+\_\+modify@{M\+C\+P\+\_\+bit\+\_\+modify}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+bit\+\_\+modify(uint8\+\_\+t address, uint8\+\_\+t mask, uint8\+\_\+t data)}{MCP_bit_modify(uint8_t address, uint8_t mask, uint8_t data)}}]{\setlength{\rightskip}{0pt plus 5cm}void M\+C\+P\+\_\+bit\+\_\+modify (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{address, }
\item[{uint8\+\_\+t}]{mask, }
\item[{uint8\+\_\+t}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_aaacbe9f56b5aaa09951b12e8150259a5}{}\label{_node2_2_m_c_p2515_8c_aaacbe9f56b5aaa09951b12e8150259a5}
Function for setting or clearing individual bits in specific status and control registers. 
\begin{DoxyParams}{Parameters}
{\em uint8\+\_\+t} & address -\/ The address of the register you want to modify \\
\hline
{\em uint8\+\_\+t} & mask -\/ Mask determines which bit in register will be allowed to change \\
\hline
{\em uint8\+\_\+t} & data -\/ Data byte determines what value the modified bits in the register will be changed to. \\
\hline
\end{DoxyParams}


Definition at line 136 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
136                                                                 \{
137     \textcolor{comment}{// Select CAN-controller with chip select}
138     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
139     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
140 
141     \textcolor{comment}{// Send modify command}
142     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a973305a49ffc6eed476689b0a8dd69e6}{MCP\_BITMOD});
143 
144     \textcolor{comment}{// Send address of register}
145     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(address);
146 
147     \textcolor{comment}{// Send mask, which bit in register allowed to change}
148     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(mask);
149 
150     \textcolor{comment}{// Send data byte, what value the modified bits will change to.}
151     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(data);
152 
153     \textcolor{comment}{// Deselect CAN-controller with chip select}
154     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS}); 
155     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
156 \}
\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+init@{M\+C\+P\+\_\+init}}
\index{M\+C\+P\+\_\+init@{M\+C\+P\+\_\+init}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+init(void)}{MCP_init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t M\+C\+P\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_a02d25f34e42b1ae73a0a3f691810636a}{}\label{_node2_2_m_c_p2515_8c_a02d25f34e42b1ae73a0a3f691810636a}
Function for initializing M\+CP and checking if it is in configuration mode. \begin{DoxyReturn}{Returns}
uint8\+\_\+t 
\end{DoxyReturn}


Definition at line 11 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
11                       \{
12     \textcolor{comment}{//Initialize SPI}
13     \hyperlink{_node1_2_s_p_i_8c_afd9b09f58917f0e2d14c61b956eba214}{SPI\_init}();
14 
15     \textcolor{comment}{//Send reset-command}
16     \hyperlink{_node1_2_m_c_p2515_8c_a2dc32ea9c68caed77b6a1e8369d96cc8}{MCP\_reset}();
17 
18     \hyperlink{_node1_2_m_c_p2515_8c_aaacbe9f56b5aaa09951b12e8150259a5}{MCP\_bit\_modify}(\hyperlink{_node1_2_m_c_p2515_8h_a25864642b445cbfbd85f2a1a22947558}{MCP\_CANCTRL}, \hyperlink{_node1_2_m_c_p2515_8h_aba2b187200eec47c5fc32655e296783d}{MODE\_MASK}, 
      \hyperlink{_node1_2_m_c_p2515_8h_a5552a5de9b59914458ab99d568bf2763}{MODE\_CONFIG});
19 
20     \textcolor{comment}{//Test self}
21     uint8\_t value;
22     value = \hyperlink{_node1_2_m_c_p2515_8c_aa7fda669e065ed6a03aec37d03c87a93}{MCP\_read}(\hyperlink{_node1_2_m_c_p2515_8h_a1a470d80ae3644bf02f2cd4a7bb6aa39}{MCP\_CANSTAT});
23     printf(\textcolor{stringliteral}{"Value: %i\(\backslash\)n\(\backslash\)r"}, value & \hyperlink{_node1_2_m_c_p2515_8h_aba2b187200eec47c5fc32655e296783d}{MODE\_MASK});
24 
25     \textcolor{keywordflow}{if} ((value & \hyperlink{_node1_2_m_c_p2515_8h_aba2b187200eec47c5fc32655e296783d}{MODE\_MASK})!= \hyperlink{_node1_2_m_c_p2515_8h_a5552a5de9b59914458ab99d568bf2763}{MODE\_CONFIG}) \{
26         printf(\textcolor{stringliteral}{"MCP2515 is not in configuration mode after reset!\(\backslash\)n\(\backslash\)r"});
27         \textcolor{keywordflow}{return} 1;
28     \}
29     \textcolor{keywordflow}{return} 0;  
30 \}
\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+read@{M\+C\+P\+\_\+read}}
\index{M\+C\+P\+\_\+read@{M\+C\+P\+\_\+read}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+read(uint8\+\_\+t address)}{MCP_read(uint8_t address)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t M\+C\+P\+\_\+read (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{address}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_aa7fda669e065ed6a03aec37d03c87a93}{}\label{_node2_2_m_c_p2515_8c_aa7fda669e065ed6a03aec37d03c87a93}
Function for reading data stored at spesific address from M\+C\+P2515. 
\begin{DoxyParams}{Parameters}
{\em uint8\+\_\+t} & address -\/ Select address you want data from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t character result -\/ The data stored at address selected 
\end{DoxyReturn}


Definition at line 37 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
37                                  \{
38     uint8\_t result;
39 
40     \textcolor{comment}{// Select CAN-controller with chip select}
41     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
42     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
43     
44     \textcolor{comment}{// Send read instruction}
45     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a1d9ce2ac1c72654e113298fc1307102a}{MCP\_READ});
46     
47     \textcolor{comment}{// Send address to shift data stored at address to SO pin}
48     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(address);
49 
50     \textcolor{comment}{// Read result}
51     result = \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(0x00); 
52 
53     \textcolor{comment}{// Deselect CAN-controller with chip seop\_until\_bit\_is\_set(SPSR, SPIF);lect}
54     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
55     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
56 
57     \textcolor{keywordflow}{return} result;
58 \}
\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+read\+\_\+status@{M\+C\+P\+\_\+read\+\_\+status}}
\index{M\+C\+P\+\_\+read\+\_\+status@{M\+C\+P\+\_\+read\+\_\+status}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+read\+\_\+status(void)}{MCP_read_status(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t M\+C\+P\+\_\+read\+\_\+status (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_a0bcc6e705607f129117aaf5bdb10adea}{}\label{_node2_2_m_c_p2515_8c_a0bcc6e705607f129117aaf5bdb10adea}
Function for allowing single instruction access to some of the often used status bits for message reception and transmission. \begin{DoxyReturn}{Returns}
uint8\+\_\+t status -\/ Status for the M\+CP 
\end{DoxyReturn}


Definition at line 111 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
111                              \{
112     uint8\_t status;
113 
114     \textcolor{comment}{// Select CAN-controller with chip select}
115     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
116     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
117 
118     \textcolor{comment}{// Sending read status command byte}
119     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a399014e8231cd5d4acd4bad7a8553bb7}{MCP\_READ\_STATUS});
120 
121     \textcolor{comment}{// Reading status}
122     status = \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(0x00);
123 
124     \textcolor{comment}{// Deselect CAN-controller with chip select}
125     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
126     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});   
127 
128     \textcolor{keywordflow}{return} status;
129 \}
\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+request\+\_\+to\+\_\+send@{M\+C\+P\+\_\+request\+\_\+to\+\_\+send}}
\index{M\+C\+P\+\_\+request\+\_\+to\+\_\+send@{M\+C\+P\+\_\+request\+\_\+to\+\_\+send}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+request\+\_\+to\+\_\+send(uint8\+\_\+t bit)}{MCP_request_to_send(uint8_t bit)}}]{\setlength{\rightskip}{0pt plus 5cm}void M\+C\+P\+\_\+request\+\_\+to\+\_\+send (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{bit}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_ac0df668851ce70c796b20865af0bb7a7}{}\label{_node2_2_m_c_p2515_8c_ac0df668851ce70c796b20865af0bb7a7}
Function for initiating message transmission for one or more of the transmit buffers. 

Definition at line 85 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
85                                      \{
86     \textcolor{comment}{// Select CAN-controller with chip select}
87     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
88     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
89 
90     \textcolor{comment}{// Send RTS command byte. The last 3 bits of it indicate which transmit buffers are enabled to send.}
91     \textcolor{keywordflow}{switch} (bit) \{
92         \textcolor{keywordflow}{case} 0: 
93             \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_ad81495d052d65e3a97a4c2688119ac0e}{MCP\_RTS\_TX0});
94         \textcolor{keywordflow}{case} 1: 
95             \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a6cc3f921cb8d7cd9323909466ad4307e}{MCP\_RTS\_TX1});
96         \textcolor{keywordflow}{case} 2: 
97             \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a0fa9efa8755c0ab500fc2e2da56126d0}{MCP\_RTS\_TX2});
98         \textcolor{keywordflow}{default}: 
99             \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_ade85afe7da126728c581e32c1fb9fb5b}{MCP\_RTS\_ALL});
100     \}
101 
102     \textcolor{comment}{// Deselect CAN-controller with chip select}
103     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
104     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
105 \}
\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+reset@{M\+C\+P\+\_\+reset}}
\index{M\+C\+P\+\_\+reset@{M\+C\+P\+\_\+reset}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+reset(void)}{MCP_reset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void M\+C\+P\+\_\+reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_a2dc32ea9c68caed77b6a1e8369d96cc8}{}\label{_node2_2_m_c_p2515_8c_a2dc32ea9c68caed77b6a1e8369d96cc8}
Function for resetting the internal registers of M\+C\+P2515, and setting configuration mode. 

Definition at line 160 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
160                     \{
161     \textcolor{comment}{// Select CAN-controller with chip select}
162     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
163     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
164 
165     \textcolor{comment}{// Send reset instruction}
166     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_a8538419d98eecb32d7b8a6e07e8a256f}{MCP\_RESET});
167 
168     \textcolor{comment}{// Deselect CAN-controller with chip select}
169     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
170     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
171 \}\end{DoxyCode}
\index{Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}!M\+C\+P\+\_\+write@{M\+C\+P\+\_\+write}}
\index{M\+C\+P\+\_\+write@{M\+C\+P\+\_\+write}!Node2/\+M\+C\+P2515.\+c@{Node2/\+M\+C\+P2515.\+c}}
\subsubsection[{\texorpdfstring{M\+C\+P\+\_\+write(uint8\+\_\+t address, char data)}{MCP_write(uint8_t address, char data)}}]{\setlength{\rightskip}{0pt plus 5cm}void M\+C\+P\+\_\+write (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{address, }
\item[{char}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_node2_2_m_c_p2515_8c_a885beff24479a19794cffcd9f2ac938b}{}\label{_node2_2_m_c_p2515_8c_a885beff24479a19794cffcd9f2ac938b}
Function for writing data address of the M\+C\+P2515 
\begin{DoxyParams}{Parameters}
{\em char} & data \\
\hline
{\em uint8\+\_\+t} & address \\
\hline
\end{DoxyParams}


Definition at line 64 of file M\+C\+P2515.\+c.


\begin{DoxyCode}
64                                           \{
65     \textcolor{comment}{// Select CAN-controller with chip select}
66     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
67     \hyperlink{_a_d_c_8h_a5be84c4cec47051599ffcfeaf4589864}{clear\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
68 
69     \textcolor{comment}{// Sending write instruction}
70     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(\hyperlink{_node1_2_m_c_p2515_8h_aa144564452e7a678d00d9727ce35f82f}{MCP\_WRITE});
71 
72     \textcolor{comment}{// Sending address}
73     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(address);
74 
75     \textcolor{comment}{// Sending byte of data}
76     \hyperlink{_node1_2_s_p_i_8c_abf767bd2a01130b1d7b907b9e8f4cd81}{SPI\_read\_write}(data);
77 
78     \textcolor{comment}{// Deselect CAN-controller with chip select}
79     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node1_2_m_c_p2515_8h_ab8cc8ec9bfd0e83fbc693b57f91545b1}{CAN\_CS});
80     \hyperlink{_a_d_c_8h_aee5ffa3d123086ed1df972387522e4eb}{set\_bit}(PORTB, \hyperlink{_node2_2_m_c_p2515_8h_a88f7782e210e61586baf33b93240d905}{SS});
81 \}
\end{DoxyCode}
