\hypertarget{_u_a_r_t_8h}{}\section{Node1/\+U\+A\+RT.h File Reference}
\label{_u_a_r_t_8h}\index{Node1/\+U\+A\+R\+T.\+h@{Node1/\+U\+A\+R\+T.\+h}}


Header-\/file for the U\+A\+RT driver -\/ to initialize, recieve and transfer data.  


{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
Include dependency graph for U\+A\+R\+T.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_u_a_r_t_8h_a802b2b582b121e4632aa9a491d503720}{F\+O\+SC}~4915200
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_u_a_r_t_8h_ae9c78888a7f984a67716908a3b1e4db1}{U\+A\+R\+T\+\_\+init} (unsigned int ubrr)
\item 
unsigned char \hyperlink{_u_a_r_t_8h_ab2738f5c899c04efe286cbf443262afb}{U\+A\+R\+T\+\_\+recv} (void)
\item 
void \hyperlink{_u_a_r_t_8h_ad6cf70b2a39fe330240c43d781880f00}{U\+A\+R\+T\+\_\+trans} (unsigned char letter)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Header-\/file for the U\+A\+RT driver -\/ to initialize, recieve and transfer data. 

\begin{DoxyAuthor}{Author}
\+: Anastasia LindbÃ¤ck and Marie Skatvedt 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}!F\+O\+SC@{F\+O\+SC}}
\index{F\+O\+SC@{F\+O\+SC}!U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}}
\subsubsection[{\texorpdfstring{F\+O\+SC}{FOSC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+O\+SC~4915200}\hypertarget{_u_a_r_t_8h_a802b2b582b121e4632aa9a491d503720}{}\label{_u_a_r_t_8h_a802b2b582b121e4632aa9a491d503720}


Definition at line 13 of file U\+A\+R\+T.\+h.



\subsection{Function Documentation}
\index{U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}!U\+A\+R\+T\+\_\+init@{U\+A\+R\+T\+\_\+init}}
\index{U\+A\+R\+T\+\_\+init@{U\+A\+R\+T\+\_\+init}!U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}}
\subsubsection[{\texorpdfstring{U\+A\+R\+T\+\_\+init(unsigned int ubrr)}{UART_init(unsigned int ubrr)}}]{\setlength{\rightskip}{0pt plus 5cm}void U\+A\+R\+T\+\_\+init (
\begin{DoxyParamCaption}
\item[{unsigned int}]{ubrr}
\end{DoxyParamCaption}
)}\hypertarget{_u_a_r_t_8h_ae9c78888a7f984a67716908a3b1e4db1}{}\label{_u_a_r_t_8h_ae9c78888a7f984a67716908a3b1e4db1}
Function for initializing U\+A\+RT. 
\begin{DoxyParams}{Parameters}
{\em unsigned} & int ubrr -\/ U\+B\+RR register, User Baud Rate Register \\
\hline
\end{DoxyParams}


Definition at line 11 of file U\+A\+R\+T.\+c.


\begin{DoxyCode}
11                                    \{
12     \textcolor{keywordtype}{int} bd = 0.15*((long)\hyperlink{_u_a_r_t_8h_a802b2b582b121e4632aa9a491d503720}{FOSC}/((\textcolor{keywordtype}{long})(16*ubrr))-1);
13 
14     UBRR0H = (\textcolor{keywordtype}{unsigned} char) (bd>>8);
15     UBRR0L = (\textcolor{keywordtype}{unsigned} char) bd;
16 
17     UCSR0B = (1<<RXEN0) | (1<<TXEN0);
18     UCSR0C = (1<<USBS0) | (1<<URSEL0) | (0<<UCSZ10) | (3<<UCSZ00);
19 
20     fdevopen(\hyperlink{_u_a_r_t_8c_ad6cf70b2a39fe330240c43d781880f00}{UART\_trans}, \hyperlink{_u_a_r_t_8c_ab2738f5c899c04efe286cbf443262afb}{UART\_recv});
21 \}
\end{DoxyCode}
\index{U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}!U\+A\+R\+T\+\_\+recv@{U\+A\+R\+T\+\_\+recv}}
\index{U\+A\+R\+T\+\_\+recv@{U\+A\+R\+T\+\_\+recv}!U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}}
\subsubsection[{\texorpdfstring{U\+A\+R\+T\+\_\+recv(void)}{UART_recv(void)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char U\+A\+R\+T\+\_\+recv (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_u_a_r_t_8h_ab2738f5c899c04efe286cbf443262afb}{}\label{_u_a_r_t_8h_ab2738f5c899c04efe286cbf443262afb}
Function for recieving data from U\+A\+RT. \begin{DoxyReturn}{Returns}
U\+D\+R0 -\/ Empty Handler, if register R\+X\+C0 (RX complete) is not set. 
\end{DoxyReturn}


Definition at line 26 of file U\+A\+R\+T.\+c.


\begin{DoxyCode}
26                                \{
27      \textcolor{keywordflow}{if}(!(UCSR0A & (1<<RXC0)))\{
28         \textcolor{keywordflow}{return} 0;
29     \}
30     \textcolor{keywordflow}{return} UDR0;
31 \}
\end{DoxyCode}
\index{U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}!U\+A\+R\+T\+\_\+trans@{U\+A\+R\+T\+\_\+trans}}
\index{U\+A\+R\+T\+\_\+trans@{U\+A\+R\+T\+\_\+trans}!U\+A\+R\+T.\+h@{U\+A\+R\+T.\+h}}
\subsubsection[{\texorpdfstring{U\+A\+R\+T\+\_\+trans(unsigned char letter)}{UART_trans(unsigned char letter)}}]{\setlength{\rightskip}{0pt plus 5cm}void U\+A\+R\+T\+\_\+trans (
\begin{DoxyParamCaption}
\item[{unsigned char}]{letter}
\end{DoxyParamCaption}
)}\hypertarget{_u_a_r_t_8h_ad6cf70b2a39fe330240c43d781880f00}{}\label{_u_a_r_t_8h_ad6cf70b2a39fe330240c43d781880f00}
Function for transferring data from U\+A\+RT. 
\begin{DoxyParams}{Parameters}
{\em unsigned} & char letter -\/ Letter to be transferred \\
\hline
\end{DoxyParams}


Definition at line 36 of file U\+A\+R\+T.\+c.


\begin{DoxyCode}
36                                        \{
37     \textcolor{keywordflow}{while} (!(UCSR0A & (1 << UDRE0)))\{\};
38 
39     UDR0 = letter;
40 \}
\end{DoxyCode}
