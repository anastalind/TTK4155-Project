\hypertarget{_t_w_i___master_8c}{}\section{Node2/\+T\+W\+I\+\_\+\+Master.c File Reference}
\label{_t_w_i___master_8c}\index{Node2/\+T\+W\+I\+\_\+\+Master.\+c@{Node2/\+T\+W\+I\+\_\+\+Master.\+c}}
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\+h$>$}\\*
{\ttfamily \#include \char`\"{}T\+W\+I\+\_\+\+Master.\+h\char`\"{}}\\*
Include dependency graph for T\+W\+I\+\_\+\+Master.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_t_w_i___master_8c_a535674ea2377f41d84c3ac28f9e1ff60}{T\+W\+I\+\_\+\+Master\+\_\+\+Initialise} (void)
\item 
unsigned char \hyperlink{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy} (void)
\item 
unsigned char \hyperlink{_t_w_i___master_8c_aad322ad270e6677beb7ed5baaa0de014}{T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info} (void)
\item 
void \hyperlink{_t_w_i___master_8c_a66af1f7289ae573818896f07e9efab70}{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data} (unsigned char $\ast$msg, unsigned char msg\+Size)
\item 
void \hyperlink{_t_w_i___master_8c_a2b76f206b0d830aaff3f07d1f9f8bc8e}{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver} (void)
\item 
unsigned char \hyperlink{_t_w_i___master_8c_a7c585de7144a7f3202f77d9fd79f573d}{T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver} (unsigned char $\ast$msg, unsigned char msg\+Size)
\item 
\hyperlink{_t_w_i___master_8c_a474f42eedbdc093683fdb4b88be3c48f}{I\+SR} (T\+W\+I\+\_\+vect)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
union \hyperlink{union_t_w_i__status_reg}{T\+W\+I\+\_\+status\+Reg} \hyperlink{_t_w_i___master_8c_a90293420db741f1c2ad53725c9a3b155}{T\+W\+I\+\_\+status\+Reg} = \{0\}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!I\+SR@{I\+SR}}
\index{I\+SR@{I\+SR}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{I\+S\+R(\+T\+W\+I\+\_\+vect)}{ISR(TWI_vect)}}]{\setlength{\rightskip}{0pt plus 5cm}I\+SR (
\begin{DoxyParamCaption}
\item[{T\+W\+I\+\_\+vect}]{}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a474f42eedbdc093683fdb4b88be3c48f}{}\label{_t_w_i___master_8c_a474f42eedbdc093683fdb4b88be3c48f}


Definition at line 144 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
145 \{
146   \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} TWI\_bufPtr;
147   
148   \textcolor{keywordflow}{switch} (TWSR)
149   \{
150     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a3b12a0369906d5264bd6e7ea596f6d29}{TWI\_START}:             \textcolor{comment}{// START has been transmitted  }
151     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a390d300b29cfc499462bf16843e8e5a4}{TWI\_REP\_START}:         \textcolor{comment}{// Repeated START has been transmitted}
152       TWI\_bufPtr = 0;                                     \textcolor{comment}{// Set buffer pointer to the TWI Address location}
153     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a2b4e9302746e5f5be2cdac4239ebb0a2}{TWI\_MTX\_ADR\_ACK}:       \textcolor{comment}{// SLA+W has been tramsmitted and ACK received}
154     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a95be5b4493b92be88a8e69cdc179eb56}{TWI\_MTX\_DATA\_ACK}:      \textcolor{comment}{// Data byte has been tramsmitted and ACK received}
155       \textcolor{keywordflow}{if} (TWI\_bufPtr < TWI\_msgSize)
156       \{
157         TWDR = TWI\_buf[TWI\_bufPtr++];
158         TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
159                (1<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Enable TWI Interupt and clear the flag to send
       byte}
160                (0<<TWEA)|(0<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{//}
161                (0<<TWWC);                                 \textcolor{comment}{//  }
162       \}\textcolor{keywordflow}{else}                    \textcolor{comment}{// Send STOP after last byte}
163       \{
164         \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a98323b7aa41aee4b3fce127337f8eaea}{lastTransOK} = \hyperlink{_p_i_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};                 \textcolor{comment}{// Set status bits to
       completed successfully. }
165         TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
166                (0<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Disable TWI Interrupt and clear the flag}
167                (0<<TWEA)|(0<<TWSTA)|(1<<TWSTO)|           \textcolor{comment}{// Initiate a STOP condition.}
168                (0<<TWWC);                                 \textcolor{comment}{//}
169       \}
170       \textcolor{keywordflow}{break};
171     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_aded31d7308f55615fa5e1effd56a647f}{TWI\_MRX\_DATA\_ACK}:      \textcolor{comment}{// Data byte has been received and ACK tramsmitted}
172       TWI\_buf[TWI\_bufPtr++] = TWDR;
173     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a96a34250c537b7cfdb04143a8446d86d}{TWI\_MRX\_ADR\_ACK}:       \textcolor{comment}{// SLA+R has been tramsmitted and ACK received}
174       \textcolor{keywordflow}{if} (TWI\_bufPtr < (TWI\_msgSize-1) )                  \textcolor{comment}{// Detect the last byte to NACK it.}
175       \{
176         TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
177                (1<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Enable TWI Interupt and clear the flag to read
       next byte}
178                (1<<TWEA)|(0<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{// Send ACK after reception}
179                (0<<TWWC);                                 \textcolor{comment}{//  }
180       \}\textcolor{keywordflow}{else}                    \textcolor{comment}{// Send NACK after next reception}
181       \{
182         TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
183                (1<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Enable TWI Interupt and clear the flag to read
       next byte}
184                (0<<TWEA)|(0<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{// Send NACK after reception}
185                (0<<TWWC);                                 \textcolor{comment}{// }
186       \}    
187       \textcolor{keywordflow}{break}; 
188     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a1499c02f4bae98b6a4c381f84e5baf3a}{TWI\_MRX\_DATA\_NACK}:     \textcolor{comment}{// Data byte has been received and NACK tramsmitted}
189       TWI\_buf[TWI\_bufPtr] = TWDR;
190       \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a98323b7aa41aee4b3fce127337f8eaea}{lastTransOK} = \hyperlink{_p_i_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};                 \textcolor{comment}{// Set status bits to
       completed successfully. }
191       TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
192              (0<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Disable TWI Interrupt and clear the flag}
193              (0<<TWEA)|(0<<TWSTA)|(1<<TWSTO)|           \textcolor{comment}{// Initiate a STOP condition.}
194              (0<<TWWC);                                 \textcolor{comment}{//}
195       \textcolor{keywordflow}{break};      
196     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a13f3eccbc3e24b2e96dbd389c205a3c5}{TWI\_ARB\_LOST}:          \textcolor{comment}{// Arbitration lost}
197       TWCR = (1<<TWEN)|                                 \textcolor{comment}{// TWI Interface enabled}
198              (1<<TWIE)|(1<<TWINT)|                      \textcolor{comment}{// Enable TWI Interupt and clear the flag}
199              (0<<TWEA)|(1<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{// Initiate a (RE)START condition.}
200              (0<<TWWC);                                 \textcolor{comment}{//}
201       \textcolor{keywordflow}{break};
202     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_ab4854a8dcbb59bca2a55ca3d3076861b}{TWI\_MTX\_ADR\_NACK}:      \textcolor{comment}{// SLA+W has been tramsmitted and NACK received}
203     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a1a19f08976af5fdfcaf68cae5030e9d2}{TWI\_MRX\_ADR\_NACK}:      \textcolor{comment}{// SLA+R has been tramsmitted and NACK received    }
204     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a7acec86890e53eaf4a26e1c8aad8e3e5}{TWI\_MTX\_DATA\_NACK}:     \textcolor{comment}{// Data byte has been tramsmitted and NACK received}
205 \textcolor{comment}{//    case TWI\_NO\_STATE              // No relevant state information available; TWINT = �0�}
206     \textcolor{keywordflow}{case} \hyperlink{_t_w_i___master_8h_a0c0d979ddd60bc9d89f1b5c920f4e6bf}{TWI\_BUS\_ERROR}:         \textcolor{comment}{// Bus error due to an illegal START or STOP condition}
207     \textcolor{keywordflow}{default}:     
208       TWI\_state = TWSR;                                 \textcolor{comment}{// Store TWSR and automatically sets clears
       noErrors bit.}
209                                                         \textcolor{comment}{// Reset TWI Interface}
210       TWCR = (1<<TWEN)|                                 \textcolor{comment}{// Enable TWI-interface and release TWI pins}
211              (0<<TWIE)|(0<<TWINT)|                      \textcolor{comment}{// Disable Interupt}
212              (0<<TWEA)|(0<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{// No Signal requests}
213              (0<<TWWC);                                 \textcolor{comment}{//}
214   \}
215 \}
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver@{T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver}}
\index{T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver@{T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver(unsigned char $\ast$msg, unsigned char msg\+Size)}{TWI_Get_Data_From_Transceiver(unsigned char *msg, unsigned char msgSize)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char T\+W\+I\+\_\+\+Get\+\_\+\+Data\+\_\+\+From\+\_\+\+Transceiver (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msg, }
\item[{unsigned char}]{msg\+Size}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a7c585de7144a7f3202f77d9fd79f573d}{}\label{_t_w_i___master_8c_a7c585de7144a7f3202f77d9fd79f573d}


Definition at line 122 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
123 \{
124   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} i;
125 
126   \textcolor{keywordflow}{while} ( \hyperlink{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{TWI\_Transceiver\_Busy}() );             \textcolor{comment}{// Wait until TWI is ready for next
       transmission.}
127 
128   \textcolor{keywordflow}{if}( \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a98323b7aa41aee4b3fce127337f8eaea}{lastTransOK} )               \textcolor{comment}{// Last transmission competed
       successfully.              }
129   \{                                             
130     \textcolor{keywordflow}{for} ( i=0; i<msgSize; i++ )                 \textcolor{comment}{// Copy data from Transceiver buffer.}
131     \{
132       msg[ i ] = TWI\_buf[ i ];
133     \}
134   \}
135   \textcolor{keywordflow}{return}( \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a98323b7aa41aee4b3fce127337f8eaea}{lastTransOK} );                                   
136 \}
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info@{T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info}}
\index{T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info@{T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info(void)}{TWI_Get_State_Info(void)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char T\+W\+I\+\_\+\+Get\+\_\+\+State\+\_\+\+Info (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_aad322ad270e6677beb7ed5baaa0de014}{}\label{_t_w_i___master_8c_aad322ad270e6677beb7ed5baaa0de014}


Definition at line 64 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
65 \{
66   \textcolor{keywordflow}{while} ( \hyperlink{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{TWI\_Transceiver\_Busy}() );             \textcolor{comment}{// Wait until TWI has completed the
       transmission.}
67   \textcolor{keywordflow}{return} ( TWI\_state );                         \textcolor{comment}{// Return error state.}
68 \}
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Master\+\_\+\+Initialise@{T\+W\+I\+\_\+\+Master\+\_\+\+Initialise}}
\index{T\+W\+I\+\_\+\+Master\+\_\+\+Initialise@{T\+W\+I\+\_\+\+Master\+\_\+\+Initialise}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Master\+\_\+\+Initialise(void)}{TWI_Master_Initialise(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+W\+I\+\_\+\+Master\+\_\+\+Initialise (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a535674ea2377f41d84c3ac28f9e1ff60}{}\label{_t_w_i___master_8c_a535674ea2377f41d84c3ac28f9e1ff60}


Definition at line 40 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
41 \{
42   TWBR = \hyperlink{_t_w_i___master_8h_a9b1eb0c7fda3cc348a4c2bea7ccb481d}{TWI\_TWBR};                                  \textcolor{comment}{// Set bit rate register (Baudrate). Defined in
       header file.}
43 \textcolor{comment}{// TWSR = TWI\_TWPS;                                  // Not used. Driver presumes prescaler to be 00.}
44   TWDR = 0xFF;                                      \textcolor{comment}{// Default content = SDA released.}
45   TWCR = (1<<TWEN)|                                 \textcolor{comment}{// Enable TWI-interface and release TWI pins.}
46          (0<<TWIE)|(0<<TWINT)|                      \textcolor{comment}{// Disable Interupt.}
47          (0<<TWEA)|(0<<TWSTA)|(0<<TWSTO)|           \textcolor{comment}{// No Signal requests.}
48          (0<<TWWC);                                 \textcolor{comment}{//}
49 \}    
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver@{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver}}
\index{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver@{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver(void)}{TWI_Start_Transceiver(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a2b76f206b0d830aaff3f07d1f9f8bc8e}{}\label{_t_w_i___master_8c_a2b76f206b0d830aaff3f07d1f9f8bc8e}


Definition at line 103 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
104 \{
105   \textcolor{keywordflow}{while} ( \hyperlink{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{TWI\_Transceiver\_Busy}() );             \textcolor{comment}{// Wait until TWI is ready for next
       transmission.}
106   \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a2c785e2c969f463d0062bb8234f70e1e}{all} = 0;      
107   TWI\_state         = \hyperlink{_t_w_i___master_8h_ae6a6800fa8811fea14adfc22736a5715}{TWI\_NO\_STATE} ;
108   TWCR = (1<<TWEN)|                             \textcolor{comment}{// TWI Interface enabled.}
109          (1<<TWIE)|(1<<TWINT)|                  \textcolor{comment}{// Enable TWI Interupt and clear the flag.}
110          (0<<TWEA)|(1<<TWSTA)|(0<<TWSTO)|       \textcolor{comment}{// Initiate a START condition.}
111          (0<<TWWC);                             \textcolor{comment}{//}
112 \}
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data@{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data}}
\index{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data@{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data(unsigned char $\ast$msg, unsigned char msg\+Size)}{TWI_Start_Transceiver_With_Data(unsigned char *msg, unsigned char msgSize)}}]{\setlength{\rightskip}{0pt plus 5cm}void T\+W\+I\+\_\+\+Start\+\_\+\+Transceiver\+\_\+\+With\+\_\+\+Data (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{msg, }
\item[{unsigned char}]{msg\+Size}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a66af1f7289ae573818896f07e9efab70}{}\label{_t_w_i___master_8c_a66af1f7289ae573818896f07e9efab70}


Definition at line 77 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
78 \{
79   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} temp;
80   
81   \textcolor{keywordflow}{while} ( \hyperlink{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{TWI\_Transceiver\_Busy}());             \textcolor{comment}{// Wait until TWI is ready for next
       transmission.}
82 
83   TWI\_msgSize = msgSize;                        \textcolor{comment}{// Number of data to transmit.}
84   TWI\_buf[0]  = msg[0];                         \textcolor{comment}{// Store slave address with R/W setting.}
85   \textcolor{keywordflow}{if} (!( msg[0] & (\hyperlink{_p_i_d_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}<<\hyperlink{_t_w_i___master_8h_a67c0f91739433360f513b097acf11946}{TWI\_READ\_BIT}) ))       \textcolor{comment}{// If it is a write operation, then also
       copy data.}
86   \{
87     \textcolor{keywordflow}{for} ( temp = 1; temp < msgSize; temp++ )
88       TWI\_buf[ temp ] = msg[ temp ];
89   \}
90   \hyperlink{union_t_w_i__status_reg}{TWI\_statusReg}.\hyperlink{union_t_w_i__status_reg_a2c785e2c969f463d0062bb8234f70e1e}{all} = 0;      
91   TWI\_state         = \hyperlink{_t_w_i___master_8h_ae6a6800fa8811fea14adfc22736a5715}{TWI\_NO\_STATE} ;
92   TWCR = (1<<TWEN)|                             \textcolor{comment}{// TWI Interface enabled.}
93          (1<<TWIE)|(1<<TWINT)|                  \textcolor{comment}{// Enable TWI Interupt and clear the flag.}
94          (0<<TWEA)|(1<<TWSTA)|(0<<TWSTO)|       \textcolor{comment}{// Initiate a START condition.}
95          (0<<TWWC);                             \textcolor{comment}{//}
96 \}
\end{DoxyCode}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy@{T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy}}
\index{T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy@{T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy(void)}{TWI_Transceiver_Busy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char T\+W\+I\+\_\+\+Transceiver\+\_\+\+Busy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}{}\label{_t_w_i___master_8c_a30555c1fe00e7eccfe57b83ff4abdf86}


Definition at line 54 of file T\+W\+I\+\_\+\+Master.\+c.


\begin{DoxyCode}
55 \{
56   \textcolor{keywordflow}{return} ( TWCR & (1<<TWIE) );                  \textcolor{comment}{// IF TWI Interrupt is enabled then the Transceiver is busy}
57 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\index{T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}!T\+W\+I\+\_\+status\+Reg@{T\+W\+I\+\_\+status\+Reg}}
\index{T\+W\+I\+\_\+status\+Reg@{T\+W\+I\+\_\+status\+Reg}!T\+W\+I\+\_\+\+Master.\+c@{T\+W\+I\+\_\+\+Master.\+c}}
\subsubsection[{\texorpdfstring{T\+W\+I\+\_\+status\+Reg}{TWI_statusReg}}]{\setlength{\rightskip}{0pt plus 5cm}union {\bf T\+W\+I\+\_\+status\+Reg} {\bf T\+W\+I\+\_\+status\+Reg} = \{0\}}\hypertarget{_t_w_i___master_8c_a90293420db741f1c2ad53725c9a3b155}{}\label{_t_w_i___master_8c_a90293420db741f1c2ad53725c9a3b155}


Definition at line 34 of file T\+W\+I\+\_\+\+Master.\+c.

